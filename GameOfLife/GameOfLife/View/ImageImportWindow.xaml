<Window
    Background="{StaticResource BgDark}"
    Height="700"
    MinHeight="500"
    MinWidth="800"
    ResizeMode="CanResize"
    Title="Обработка изображения"
    Width="1200"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    x:Class="GameOfLife.View.ImageImportWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <WindowChrome.WindowChrome>
        <WindowChrome
            CaptionHeight="40"
            CornerRadius="0"
            ResizeBorderThickness="5"
            UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>
    <Border BorderBrush="{StaticResource BorderColor}" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <!--  === Title Bar ===  -->
            <Border
                Background="{StaticResource BgPanel}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,0,0,1"
                Grid.Row="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <StackPanel
                        Margin="10,0,0,0"
                        Orientation="Horizontal"
                        VerticalAlignment="Center">
                        <TextBlock
                            FontSize="18"
                            Margin="0,0,8,0"
                            Text="🧬"
                            VerticalAlignment="Center" />
                        <TextBlock
                            FontSize="14"
                            FontWeight="SemiBold"
                            Style="{StaticResource LabelText}"
                            Text="Обработка изображения"
                            VerticalAlignment="Center" />
                    </StackPanel>
                    <Button
                        Click="CloseButton_Click"
                        Grid.Column="1"
                        Height="40"
                        Style="{StaticResource TitleBarCloseButtonStyle}"
                        Width="46"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        x:Name="CloseButton">
                        <Path
                            Data="M 0,0 L 10,10 M 10,0 L 0,10"
                            Stroke="{StaticResource TextPrimary}"
                            StrokeThickness="1" />
                    </Button>
                </Grid>
            </Border>
            <!--  === Preview Panel ===  -->
            <ScrollViewer
                Grid.Row="1"
                HorizontalScrollBarVisibility="Disabled"
                Padding="20"
                VerticalScrollBarVisibility="Auto">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!--  Original  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="0"
                        Grid.Row="0"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Original" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="OriginalImg" />
                            <Button
                                Click="OpenButton_OnClick"
                                Content="📂  Открыть изображение"
                                FontSize="13"
                                Style="{StaticResource BtnPrimary}"
                                x:Name="OpenButton" />
                        </StackPanel>
                    </Border>

                    <!--  1. Canny  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="1"
                        Grid.Row="0"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Canny Edges" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="CannyImg" />
                            <Button
                                Click="SelectCanny_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>

                    <!--  2. Adaptive Threshold  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="2"
                        Grid.Row="0"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Adaptive Threshold" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="ThresholdImg" />
                            <Button
                                Click="SelectThreshold_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>

                    <!--  3. Sobel  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="0"
                        Grid.Row="1"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Sobel Edges" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="SobelImg" />
                            <Button
                                Click="SelectSobel_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>

                    <!--  4. Thick Edges  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="1"
                        Grid.Row="1"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Thick Edges" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="ThickImg" />
                            <Button
                                Click="SelectThick_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>





                    <!--  5. Laplacian  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="2"
                        Grid.Row="1"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Laplacian Edges" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="LaplacianImg" />
                            <Button
                                Click="SelectLaplacian_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>

                    <!--  6. Object Contours  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="0"
                        Grid.Row="2"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="Object Contours" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="ContoursImg" />
                            <Button
                                Click="SelectContours_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>

                    <!--  7. High Contrast  -->
                    <Border
                        Background="{StaticResource BgPanel}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Grid.Column="1"
                        Grid.Row="2"
                        Margin="10"
                        Padding="15">
                        <StackPanel>
                            <TextBlock
                                FontSize="15"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource TextPrimary}"
                                Margin="0,0,0,10"
                                Text="High Contrast Edges" />
                            <Image
                                Height="250"
                                Margin="0,0,0,15"
                                Stretch="Uniform"
                                VerticalAlignment="Center"
                                x:Name="HighContrastImg" />
                            <Button
                                Click="SelectHighContrast_Click"
                                Content="Выбрать"
                                FontSize="13" />
                        </StackPanel>
                    </Border>
                </Grid>
            </ScrollViewer>

            <!--  === Bottom Progress Bar ===  -->
            <Border
                Background="{StaticResource BgPanel}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,1,0,0"
                Grid.Row="2"
                Padding="20,15">
                <ProgressBar
                    Background="{StaticResource BgCard}"
                    BorderBrush="{StaticResource BorderColor}"
                    BorderThickness="1"
                    Height="30"
                    x:Name="ProcessingProgress" />
            </Border>
        </Grid>
    </Border>
</Window>
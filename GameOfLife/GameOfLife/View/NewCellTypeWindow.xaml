<Window
    Background="{StaticResource BgDark}"
    Height="600"
    MinWidth="550"
    Title="Создание новой клетки"
    Width="650"
    WindowStartupLocation="CenterScreen"
    x:Class="GameOfLife.View.NewCellTypeWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  Заголовок  -->
        <TextBlock
            Grid.Row="0"
            Margin="0,0,0,20"
            Style="{StaticResource HeaderText}"
            Text="Создание новой клетки" />

        <!--  Кнопка добавления  -->
        <Button
            Command="{Binding AddNewCellCommand}"
            Content="➕  Добавить клетку"
            Grid.Row="1"
            Margin="0,0,0,20"
            Style="{StaticResource BtnBlue}" />

        <!--  Заголовки столбцов  -->
        <Border
            Background="{StaticResource BgPanel}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="1"
            CornerRadius="6"
            Grid.Row="2"
            Margin="0,0,0,12"
            Padding="12,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40" />
                    <ColumnDefinition Width="50" />
                    <ColumnDefinition Width="140" />
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBlock
                    Grid.Column="0"
                    Style="{StaticResource LabelText}"
                    Text="ID"
                    VerticalAlignment="Center" />
                <TextBlock
                    Grid.Column="1"
                    Margin="8,0,0,0"
                    Style="{StaticResource LabelText}"
                    Text="Цвет"
                    VerticalAlignment="Center" />
                <TextBlock
                    Grid.Column="2"
                    Margin="8,0,0,0"
                    Style="{StaticResource LabelText}"
                    Text="Имя"
                    VerticalAlignment="Center" />
                <TextBlock
                    Grid.Column="3"
                    Margin="8,0,0,0"
                    Style="{StaticResource LabelText}"
                    Text="Рождение"
                    VerticalAlignment="Center" />
                <TextBlock
                    Grid.Column="4"
                    Margin="8,0,0,0"
                    Style="{StaticResource LabelText}"
                    Text="Выживание"
                    VerticalAlignment="Center" />
                <TextBlock
                    Grid.Column="5"
                    Margin="8,0,0,0"
                    Style="{StaticResource LabelText}"
                    Text="Приоритет"
                    VerticalAlignment="Center" />
            </Grid>
        </Border>

        <!--  Список клеток  -->
        <ScrollViewer
            Grid.Row="3"
            HorizontalScrollBarVisibility="Disabled"
            VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding CellTypes}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Background="{StaticResource BgPanel}"
                            BorderBrush="{StaticResource BorderColor}"
                            BorderThickness="1"
                            CornerRadius="6"
                            Margin="0,0,0,8"
                            Padding="12,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="40" />
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="140" />
                                    <ColumnDefinition Width="140" />
                                    <ColumnDefinition Width="140" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!--  ID  -->
                                <TextBlock
                                    Grid.Column="0"
                                    Text="{Binding ID}"
                                    VerticalAlignment="Center" />

                                <!--  Цвет  -->
                                <Border
                                    BorderBrush="{StaticResource BorderColor}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Grid.Column="1"
                                    Height="24"
                                    HorizontalAlignment="Left"
                                    Margin="8,0,0,0"
                                    Width="24">
                                    <Rectangle
                                        Fill="{Binding Color, Converter={StaticResource ColorToBrushConverter}}"
                                        RadiusX="3"
                                        RadiusY="3" />
                                </Border>

                                <!--  Имя  -->
                                <TextBox
                                    Grid.Column="2"
                                    Margin="8,0,0,0"
                                    Text="{Binding Name, Mode=TwoWay}"
                                    VerticalAlignment="Center" />

                                <!--  Правила рождения  -->
                                <TextBox
                                    Grid.Column="3"
                                    Margin="8,0,0,0"
                                    Text="{Binding BirthRules, Mode=TwoWay}"
                                    VerticalAlignment="Center" />

                                <!--  Правила выживания  -->
                                <TextBox
                                    Grid.Column="4"
                                    Margin="8,0,0,0"
                                    Text="{Binding SurvivalRules, Mode=TwoWay}"
                                    VerticalAlignment="Center" />

                                <!--  Приоритет  -->
                                <CheckBox
                                    Grid.Column="5"
                                    HorizontalAlignment="Center"
                                    IsChecked="{Binding IsPriority, Mode=TwoWay}"
                                    Margin="8,0,0,0"
                                    VerticalAlignment="Center" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Window>
<Window
    Background="{StaticResource BgDark}"
    Height="600"
    MinWidth="500"
    Title="Создание новой клетки"
    Width="600"
    WindowStartupLocation="CenterScreen"
    x:Class="GameOfLife.View.NewCellTypeWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>


        <TextBlock
            Grid.Row="0"
            Margin="0,0,0,16"
            Style="{StaticResource HeaderText}"
            Text="Создание новой клетки" />


        <Button
            Command="{Binding AddNewCellCommand}"
            Content="➕  Добавить клетку"
            Grid.Row="1"
            Margin="0,0,0,16"
            Style="{StaticResource BtnBlue}" />


        <Border
            Background="{StaticResource BgPanel}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="1"
            CornerRadius="4"
            Grid.Row="2"
            Margin="0,0,0,8"
            Padding="8">
            <WrapPanel VerticalAlignment="Center">
                <TextBlock
                    Style="{StaticResource LabelText}"
                    Text="ID"
                    Width="30" />
                <TextBlock
                    Margin="4,0"
                    Style="{StaticResource LabelText}"
                    Text="Цвет"
                    Width="40" />
                <TextBlock
                    Margin="8,0"
                    Style="{StaticResource LabelText}"
                    Text="Имя"
                    Width="120" />
                <TextBlock
                    Margin="8,0"
                    Style="{StaticResource LabelText}"
                    Text="Рождение"
                    Width="80" />
                <TextBlock
                    Margin="8,0"
                    Style="{StaticResource LabelText}"
                    Text="Выживание"
                    Width="80" />
                <TextBlock
                    Margin="8,0"
                    Style="{StaticResource LabelText}"
                    Text="Приоритет" />
            </WrapPanel>
        </Border>


        <ScrollViewer
            Grid.Row="3"
            HorizontalScrollBarVisibility="Disabled"
            VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding CellTypes}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Background="{StaticResource BgPanel}"
                            BorderBrush="{StaticResource BorderColor}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Margin="0,0,0,8"
                            Padding="8">
                            <WrapPanel VerticalAlignment="Center">

                                <TextBlock
                                    Text="{Binding ID}"
                                    VerticalAlignment="Center"
                                    Width="30" />


                                <Rectangle
                                    Fill="{Binding Color, Converter={StaticResource ColorToBrushConverter}}"
                                    Height="20"
                                    Margin="4,0"
                                    Width="20" />


                                <TextBox
                                    Margin="8,0"
                                    Text="{Binding Name, Mode=TwoWay}"
                                    Width="120" />


                                <TextBox
                                    Margin="8,0"
                                    Text="{Binding BirthRules, Mode=TwoWay}"
                                    Width="80" />


                                <TextBox
                                    Margin="8,0"
                                    Text="{Binding SurvivalRules, Mode=TwoWay}"
                                    Width="80" />


                                <CheckBox
                                    Content=""
                                    IsChecked="{Binding IsPriority, Mode=TwoWay}"
                                    Margin="16,0,0,0"
                                    VerticalAlignment="Center" />
                            </WrapPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

    </Grid>
</Window>
